(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function d(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(e){if(e.ep)return;e.ep=!0;const n=d(e);fetch(e.href,n)}})();let y=[],o=null;const a=document.getElementById("niqqud-toggle"),p=document.getElementById("translation-toggle"),u=document.getElementById("hebrew-word"),g=document.getElementById("translation-word"),m=document.getElementById("translit-input"),c=document.getElementById("feedback"),s=document.getElementById("check-btn"),f=document.getElementById("length-slider"),x=document.getElementById("length-label"),h=document.getElementById("dark-toggle");async function w(){const t=await fetch("/Hebrew-Transliteration-Trainer/words.json");if(!t.ok){console.error("failed to load words.json",t.status);return}y=await t.json(),C()}f.addEventListener("input",()=>{x.textContent=f.value});function C(){const r=parseInt(f.value,10),t=y.filter(l=>l.Niqqud_Length<=r);if(!t.length){u.textContent=`No words ≤ length ${r}`,g.textContent="",c.textContent="",s.textContent="Check";return}o=t[Math.floor(Math.random()*t.length)];const d=a.checked;u.textContent=d?o.Niqqud:o.Hebrew,g.textContent="",m.value="",c.textContent="",s.textContent="Check"}s.addEventListener("click",()=>{s.textContent==="Check"?(m.value.trim().toLowerCase()===o.Transliteration.toLowerCase()?(c.textContent="✅ Correct!",c.style.color="green"):(c.textContent=`❌ Incorrect. Correct: ${o.Transliteration}`,c.style.color="red"),p.checked&&(g.textContent=o.Translation),s.textContent="Next"):C()});m.addEventListener("keydown",r=>{r.key==="Enter"&&s.click()});a.addEventListener("change",()=>{o&&s.textContent==="Check"&&(u.textContent=a.checked?o.Niqqud:o.Hebrew)});h.addEventListener("change",()=>{document.body.classList.toggle("dark",h.checked)});w();
