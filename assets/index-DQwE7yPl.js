(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const h of n.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function g(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(e){if(e.ep)return;e.ep=!0;const n=g(e);fetch(e.href,n)}})();let C=[],o=null;const d=document.getElementById("niqqud-toggle"),l=document.getElementById("translation-toggle"),a=document.getElementById("dark-toggle"),m=document.getElementById("hebrew-word"),u=document.getElementById("translation-word"),y=document.getElementById("translit-input"),s=document.getElementById("feedback"),r=document.getElementById("check-btn"),f=document.getElementById("length-slider"),p=document.getElementById("length-label");d.checked=JSON.parse(localStorage.getItem("showNiqqud")??"true");l.checked=JSON.parse(localStorage.getItem("showTranslation")??"true");a.checked=JSON.parse(localStorage.getItem("darkMode")??"false");document.body.classList.toggle("dark",a.checked);async function w(){const t=await fetch("/Hebrew-Transliteration-Trainer/words.json");if(!t.ok){console.error("failed to load words.json",t.status);return}C=await t.json(),k()}f.addEventListener("input",()=>{p.textContent=f.value});function k(){const c=parseInt(f.value,10),t=C.filter(i=>i.Niqqud_Length<=c);if(!t.length){m.textContent=`No words ≤ length ${c}`,u.textContent="",s.textContent="",r.textContent="Check";return}o=t[Math.floor(Math.random()*t.length)];const g=d.checked;m.textContent=g?o.Niqqud:o.Hebrew,u.textContent="",y.value="",s.textContent="",r.textContent="Check"}r.addEventListener("click",()=>{r.textContent==="Check"?(y.value.trim().toLowerCase()===o.Transliteration.toLowerCase()?(s.textContent="✅ Correct!",s.style.color="green"):(s.textContent=`❌ Incorrect. Correct: ${o.Transliteration}`,s.style.color="red"),l.checked&&(u.textContent=o.Translation),r.textContent="Next"):k()});y.addEventListener("keydown",c=>{c.key==="Enter"&&r.click()});d.addEventListener("change",()=>{localStorage.setItem("showNiqqud",d.checked),o&&r.textContent==="Check"&&(m.textContent=d.checked?o.Niqqud:o.Hebrew)});l.addEventListener("change",()=>{localStorage.setItem("showTranslation",l.checked),r.textContent!=="Check"&&o&&(u.textContent=l.checked?o.Translation:"")});a.addEventListener("change",()=>{localStorage.setItem("darkMode",a.checked),document.body.classList.toggle("dark",a.checked)});w();
